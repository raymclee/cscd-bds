// Code generated by ent, DO NOT EDIT.

package ent

import (
	"context"
	"cscd-bds/store/ent/area"
	"cscd-bds/store/ent/city"
	"cscd-bds/store/ent/country"
	"cscd-bds/store/ent/customer"
	"cscd-bds/store/ent/district"
	"cscd-bds/store/ent/province"
	"cscd-bds/store/ent/schema/xid"
	"cscd-bds/store/ent/tender"
	"cscd-bds/store/ent/user"
	"fmt"
)

// prefixMap maps xid prefixes to table names.
var prefixMap = map[xid.ID]string{
	{V: "AR"}: area.Table,
	{V: "CI"}: city.Table,
	{V: "CO"}: country.Table,
	{V: "CU"}: customer.Table,
	{V: "DI"}: district.Table,
	{V: "PR"}: province.Table,
	{V: "TE"}: tender.Table,
	{V: "US"}: user.Table,
}

// IDToType maps a xid.ID to the underlying table.
func IDToType(ctx context.Context, id xid.ID) (string, error) {
	if len(id.V) < 2 {
		return "", fmt.Errorf("IDToType: id too short")
	}
	p := xid.ID{V: id.V[:2]}
	typ := prefixMap[p]
	if typ == "" {
		return "", fmt.Errorf("IDToType: could not map prefix '%s' to a type", p.V)
	}
	return typ, nil
}
